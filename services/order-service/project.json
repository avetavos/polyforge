{
  "name": "order-service",
  "root": "services/order-service",
  "sourceRoot": "services/order-service/src",
  "targets": {
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker build --no-cache -t polyforge-order:1.1 .",
        "cwd": "services/order-service"
      }
    },
    "serve": {
      "executor": "nx:run-commands",
      "options": {
        "command": "fastapi dev main.py",
        "cwd": "services/order-service"
      }
    },
    "serve-docker": {
      "executor": "nx:run-commands",
      "options": {
        "command": "docker run -p 8000:8000 polyforge-order:1.1"
      }
    },
    "migrate": {
      "executor": "nx:run-commands",
      "options": {
        "command": "alembic upgrade head",
        "cwd": "services/order-service",
        "env": {
          "DATABASE_URL": ""
        }
      }
    },
    "migrate-generate": {
      "executor": "nx:run-commands",
      "options": {
        "command": "alembic revision --autogenerate -m 'Auto migration'",
        "cwd": "services/order-service",
        "env": {
          "DATABASE_URL": ""
        }
      }
    },
    "migrate-rollback": {
      "executor": "nx:run-commands",
      "options": {
        "command": "alembic downgrade -1",
        "cwd": "services/order-service",
        "env": {
          "DATABASE_URL": ""
        }
      }
    }
  },
  "tags": ["service", "python", "fastapi"]
}